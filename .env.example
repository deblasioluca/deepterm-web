# DeepTerm Zero-Knowledge Vault Server
# Environment Configuration Template

# ===========================================
# DATABASE
# ===========================================
# SQLite (default for development)
DATABASE_URL="file:./prisma/deepterm.db"

# PostgreSQL (recommended for production)
# DATABASE_URL="postgresql://user:password@localhost:5432/deepterm?schema=public"

# ===========================================
# AUTHENTICATION
# ===========================================
# NextAuth URL (your server's public URL)
NEXTAUTH_URL="https://deepterm.net"

# Secret for NextAuth session encryption (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET="your-super-secret-key-change-in-production"

# JWT Secret for ZK Vault API (defaults to NEXTAUTH_SECRET if not set)
JWT_SECRET="your-jwt-secret-key"

# ===========================================
# WEBAUTHN / PASSKEYS
# ===========================================
# Your domain (without protocol or port)
WEBAUTHN_RP_ID="deepterm.net"

# ===========================================
# APPLICATION
# ===========================================
NODE_ENV="production"
PORT=3000

# ===========================================
# REDIS (for rate limiting and caching)
# ===========================================
REDIS_URL="redis://localhost:6379"

# ===========================================
# EMAIL CONFIGURATION
# ===========================================
SMTP_HOST="smtp.example.com"
SMTP_PORT=587
SMTP_USER="your-smtp-user"
SMTP_PASSWORD="your-smtp-password"
EMAIL_FROM="noreply@deepterm.net"

# ===========================================
# API KEYS
# ===========================================
# API key for mobile/desktop app authentication (generate with: openssl rand -hex 32)
APP_API_KEY="your-app-api-key"

# GitHub webhook signature verification (must match GitHub repo webhook settings)
# GITHUB_WEBHOOK_SECRET="your-github-webhook-secret"

# GitHub personal access token (for cockpit GitHub Issues panel + CI runner status)
# GITHUB_TOKEN="ghp_..."

# Node-RED integration
# NODE_RED_URL="http://192.168.1.30:1880"
# NODE_RED_API_KEY="your-node-red-api-key"

# AI Dev Mac API key (falls back to NODE_RED_API_KEY if not set)
# AI_DEV_API_KEY="your-ai-dev-api-key"

# ===========================================
# OPTIONAL: OAUTH PROVIDERS
# ===========================================
# GitHub OAuth
# GITHUB_ID="your-github-oauth-app-id"
# GITHUB_SECRET="your-github-oauth-app-secret"

# Google OAuth
# GOOGLE_CLIENT_ID="your-google-client-id"
# GOOGLE_CLIENT_SECRET="your-google-client-secret"

# ===========================================
# OPTIONAL: STRIPE (for billing)
# ===========================================
# STRIPE_SECRET_KEY="sk_live_..."
# STRIPE_WEBHOOK_SECRET="whsec_..."
# STRIPE_PUBLISHABLE_KEY="pk_live_..."

# ===========================================
# SECURITY SETTINGS
# ===========================================
# Admin account password for database seeding (generate with: openssl rand -base64 24)
# Required when running: npx prisma db seed
# ADMIN_DEFAULT_PASSWORD="your-secure-admin-password"

# Rate limiting (requests per 15 min window)
# RATE_LIMIT_MAX_ATTEMPTS=5
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_BLOCK_DURATION_MS=900000

# Password hashing rounds (bcrypt)
# BCRYPT_ROUNDS=12

# JWT token expiry
# ACCESS_TOKEN_EXPIRY="15m"
# REFRESH_TOKEN_EXPIRY_DAYS=30

# ===========================================
# AUDIT LOG SETTINGS
# ===========================================
# Days to retain audit logs (default: 90)
# AUDIT_LOG_RETENTION_DAYS=90
